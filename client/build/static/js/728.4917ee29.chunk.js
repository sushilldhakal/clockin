(self.webpackChunkselfie=self.webpackChunkselfie||[]).push([[728],{7349:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return D}});var n=r(5671),o=r(3144),a=r(136),i=r(8557),s=r(2791),l=r(1413),c=r(885),d=r(9741),u=r(3513),m=r(5181),h=(r(5106),r(184)),f=function(e){var t=e.getFilterData,r=s.useState(!0),n=(0,c.Z)(r,2),o=n[0],a=n[1],i=t(),f=[{name:"Name",selector:function(e){return e.name},sortable:!0,cell:function(e){return(0,h.jsx)(d.rU,{to:"/dashboard/each-staff/"+e._id,children:e.name})}},{name:"Role",selector:function(e){return e.role},sortable:!0},{name:"Pin",selector:function(e){return e.pin},sortable:!0},{name:"Employe",selector:function(e){return e.hire},sortable:!0},{name:"Location",selector:function(e){return e.site},sortable:!0},{name:"Email",selector:function(e){return e.email},sortable:!0},{name:"Phone",selector:function(e){return e.phone},sortable:!0}],p={columns:f,data:i};s.useEffect((function(){a(!1)}),[]);return(0,h.jsx)(s.Fragment,{children:(0,h.jsx)("div",{className:"col-sm-12",children:0===t().length?(0,h.jsx)("div",{children:(0,h.jsx)("p",{className:"c-msg",children:"Employee Not Found"})}):(0,h.jsx)("div",{children:(0,h.jsx)(m.Z,(0,l.Z)((0,l.Z)({print:!0,exportHeaders:!0,export:!0,filterPlaceholder:"Search"},p),{},{children:(0,h.jsx)(u.ZP,{columns:f,data:i,progressPending:o,noHeader:!0,defaultSortField:"id",defaultSortAsc:!1,pagination:!0,paginationPerPage:"30",paginationComponentOptions:{selectAllRowsItem:!0},highlightOnHover:!0})}))})})})},p=r(2982),v=r(4569),x=r.n(v),y=r(2677),j=r(2132),g=r(5630),b=r(7043),Z=r(9403),N=r.n(Z),w=r(2062),E=r.n(w),G={name:"",pin:"",role:"",hire:"",site:"",email:"",phone:"",dob:"",img:"",comment:""},C=(Math.floor(1e3+9e3*Math.random()),function(e){var t,r,n;function o(e){Z((0,l.Z)((0,l.Z)({},v),e))}var a=(0,s.useState)(),i=(0,c.Z)(a,2),d=i[0],u=i[1],m=(0,s.useState)(G),f=(0,c.Z)(m,2),v=f[0],Z=f[1],w=(0,s.useState)(G),C=(0,c.Z)(w,2),S=(C[0],C[1],e),L=S.retrieveRole.map((function(e){return e.name})),k=S.retrieveLocation.map((function(e){return e.name})),P=S.retrieveEmployer.map((function(e){return e.name})),R=(t=[]).concat.apply(t,(0,p.Z)(L)),F=(r=[]).concat.apply(r,(0,p.Z)(k)),D=(n=[]).concat.apply(n,(0,p.Z)(P)),I=function(e){e.pin||E()({title:"Error",text:"Please Generate Pin",icon:"error",button:"Go Back"}),e.name&&e.role&&e.hire&&e.site?x().post(b.UW+"add-employee",e).then((function(e){Z(G),E()({title:"User Added",text:"User added Sucessfull, please click on ok to load user list",icon:"success"}).then((function(){window.location.reload()}))})).catch((function(e){E()(e.response.data.message)})):E()({title:"Error",text:"Please enter all the fields",icon:"error",button:"Go Back"})};return(0,h.jsx)("form",{className:"add-employee-form",onSubmit:function(){return I(v)},children:(0,h.jsx)("div",{className:"container-add-employee",children:(0,h.jsx)(y.Z,{sm:12,children:(0,h.jsxs)(j.Z,{children:[(0,h.jsx)(j.Z.Header,{children:(0,h.jsx)(j.Z.Title,{as:"h5",children:"Add New Staff"})}),(0,h.jsxs)(j.Z.Body,{children:[(0,h.jsxs)("div",{className:"form-row mb-4",children:[(0,h.jsxs)(g.Z.Group,{as:y.Z,controlId:"formGridName",children:[(0,h.jsx)(g.Z.Label,{children:"Full Name"}),(0,h.jsx)("input",{id:"formGridName",type:"text",name:"name",className:"form-control",value:v.name,onChange:function(e){return o({name:e.target.value})},placeholder:"Full Name"})]}),(0,h.jsxs)(g.Z.Group,{as:y.Z,controlId:"formGridPin",id:"custom-pinGroup",children:[(0,h.jsx)(g.Z.Label,{children:"PIN"}),(0,h.jsx)("a",{href:"#",className:"btn btn-hover btn-default btn-rounded btn-small btn-custom",onClick:function(){var e=""+Math.floor(1e3+9e3*Math.random());u(e.toString()),o({pin:e.toString()})},children:"Generate Pin"}),(0,h.jsx)("input",{id:"formGridPin",type:"number",name:"pin",disabled:!0,className:"form-control",value:d,onChange:function(e){return o({pin:e.target.value})},placeholder:"PIN",maxLength:"4",minLength:"4"})]})]}),(0,h.jsxs)("div",{className:"form-row mb-4",children:[(0,h.jsxs)(g.Z.Group,{as:y.Z,controlId:"exampleForm.formGridRole",children:[(0,h.jsx)(g.Z.Label,{children:"Select Role"}),(0,h.jsxs)(g.Z.Control,{as:"select",onChange:function(e){return o({role:e.target.value})},children:[(0,h.jsx)("option",{children:"Select Role"}),R.map((function(e){return(0,h.jsx)("option",{value:e,children:e},e)}))]})]}),(0,h.jsxs)(g.Z.Group,{as:y.Z,controlId:"exampleForm.formGridHire",children:[(0,h.jsx)(g.Z.Label,{children:"Select Employer"}),(0,h.jsxs)(g.Z.Control,{as:"select",onChange:function(e){return o({hire:e.target.value})},children:[(0,h.jsx)("option",{children:"Select Employer"}),D.map((function(e){return(0,h.jsx)("option",{value:e,children:e},e)}))]})]}),(0,h.jsxs)(g.Z.Group,{as:y.Z,controlId:"exampleForm.formGridSite",children:[(0,h.jsx)(g.Z.Label,{children:"Select Location"}),(0,h.jsxs)(g.Z.Control,{as:"select",onChange:function(e){return o({site:e.target.value})},children:[(0,h.jsx)("option",{children:"Select Location"}),F.map((function(e){return(0,h.jsx)("option",{value:e,children:e},e)}))]})]})]}),(0,h.jsxs)("div",{className:"form-row mb-4",children:[(0,h.jsxs)(g.Z.Group,{as:y.Z,controlId:"formGridEmail",children:[(0,h.jsx)(g.Z.Label,{children:"Email"}),(0,h.jsx)("input",{id:"formGridEmail",type:"email",name:"email",value:v.email,className:"form-control",onChange:function(e){return o({email:e.target.value})},placeholder:"Email"})]}),(0,h.jsxs)(g.Z.Group,{as:y.Z,controlId:"formGridPhone",children:[(0,h.jsx)(g.Z.Label,{children:"Phone Number"}),(0,h.jsx)("input",{id:"formGridPhone",type:"number",name:"phone",className:"form-control",value:v.phone,onChange:function(e){return o({phone:e.target.value})},placeholder:"Phone Number"})]}),(0,h.jsxs)(g.Z.Group,{as:y.Z,controlId:"formGridDob",children:[(0,h.jsx)(g.Z.Label,{children:"Date Of Birth"}),(0,h.jsx)("input",{id:"formGridDob",type:"date",name:"dob",className:"form-control",value:v.dob,onChange:function(e){return o({dob:e.target.value})},placeholder:"DOB"})]})]}),(0,h.jsxs)("div",{className:"form-row mb-4",children:[(0,h.jsxs)(g.Z.Group,{as:y.Z,controlId:"formGridComments",children:[(0,h.jsx)(g.Z.Label,{children:"Comments"}),(0,h.jsx)("textarea",{id:"formGridComments",type:"textarea",name:"comment",className:"form-control",value:v.comment,onChange:function(e){return o({comment:e.target.value})},placeholder:"Comment"})]}),(0,h.jsxs)(g.Z.Group,{as:y.Z,children:[(0,h.jsx)(g.Z.Label,{children:"Staff Image"}),(0,h.jsx)("img",{src:v.img}),(0,h.jsx)("div",{children:(0,h.jsx)(N(),{type:"file",multiple:!1,onDone:function(e){var t=e.base64;console.log(t),o({img:t})}})})]})]}),(0,h.jsx)("div",{className:"form-row mb-4",children:(0,h.jsx)(g.Z.Group,{as:y.Z,controlId:"formGridDob",children:(0,h.jsx)("a",{className:"btn btn-success",href:"#",onClick:function(){return I(v)},children:"Add Employee"})})})]})]})})})})}),S=r(4610),L=r.n(S),k=r(9743),P=r(3360),R=function(e){(0,a.Z)(r,e);var t=(0,i.Z)(r);function r(){var e;(0,n.Z)(this,r);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={data:[],id:L()(),search:"",value:"",title:"Employee Search Filter",show:!1,name:"",role:"",hire:"",site:"",pin:"",dob:"",comment:"",flag:!1,categoryRole:[],categoryLocation:[],categoryEmployer:[],edit:!1},e.getFilterData=function(){return e.state.data.filter((function(t){return-1!==JSON.stringify(t).toLowerCase().indexOf(e.state.search)}))},e.handleShowForm=function(){e.setState({show:!e.state.show})},e}return(0,o.Z)(r,[{key:"componentDidMount",value:function(){this.retrieveData=this.retrieveData.bind(this),this.retrieveRole=this.retrieveRole.bind(this),this.retrieveLocation=this.retrieveLocation.bind(this),this.retrieveEmployer=this.retrieveEmployer.bind(this),this.retrieveData(),this.retrieveRole(),this.retrieveLocation(),this.retrieveEmployer()}},{key:"retrieveData",value:function(){var e=this;x().get(b.UW+"employees",{headers:{api_key:localStorage.getItem("token")}}).then((function(t){e.setState({data:t.data})}))}},{key:"retrieveRole",value:function(){var e=this;x().get(b.UW+"category/role").then((function(t){e.setState({categoryRole:t.data})}))}},{key:"retrieveLocation",value:function(){var e=this;x().get(b.UW+"category/location").then((function(t){e.setState({categoryLocation:t.data})}))}},{key:"retrieveEmployer",value:function(){var e=this;x().get(b.UW+"category/employer").then((function(t){e.setState({categoryEmployer:t.data})}))}},{key:"render",value:function(){var e=this.state.categoryRole,t=this.state.categoryLocation,r=this.state.categoryEmployer;return(0,h.jsx)(s.Fragment,{children:(0,h.jsx)(k.Z,{children:(0,h.jsx)(y.Z,{md:12,xl:12,children:(0,h.jsxs)(j.Z,{className:"Recent-Users",children:[(0,h.jsx)(j.Z.Header,{children:(0,h.jsx)(j.Z.Title,{as:"h5",children:this.state.title})}),(0,h.jsxs)(j.Z.Body,{className:"px-0 py-2",children:[(0,h.jsxs)("div",{className:this.state.show?"App-add-employee show-employee-form":"App-add-employee hide-employee-form col-sm-12",children:[(0,h.jsx)(P.Z,{className:"btn btn-primary toggle-button",onClick:this.handleShowForm,children:this.state.show?"Close Form":"Add New Employee"}),(0,h.jsx)("br",{}),this.state.show&&(0,h.jsx)(C,{name:this.state.name,role:this.state.role,hire:this.state.hire,site:this.state.site,email:this.state.email,phone:this.state.phone,pin:this.state.pin,dob:this.state.dob,edit:this.state.edit,comment:this.state.comment,addNewEmployee:this.addNewEmployee,retrieveRole:e,retrieveLocation:t,retrieveEmployer:r})]}),(0,h.jsx)(f,{deleteEmployee:this.deleteEmployee,getFilterData:this.getFilterData},this.state.id)]})]})})})})}}]),r}(s.Component),F=R,D=function(e){(0,a.Z)(r,e);var t=(0,i.Z)(r);function r(){return(0,n.Z)(this,r),t.apply(this,arguments)}return(0,o.Z)(r,[{key:"render",value:function(){return(0,h.jsx)("div",{className:"staff",children:(0,h.jsx)("div",{className:"dashboard-body",children:(0,h.jsx)(F,{id:"employee-list"})})})}}]),r}(s.Component)},9743:function(e,t,r){"use strict";var n=r(1413),o=r(5987),a=r(1694),i=r.n(a),s=r(2791),l=r(162),c=r(184),d=["bsPrefix","className","as"],u=["xxl","xl","lg","md","sm","xs"],m=s.forwardRef((function(e,t){var r=e.bsPrefix,a=e.className,s=e.as,m=void 0===s?"div":s,h=(0,o.Z)(e,d),f=(0,l.vE)(r,"row"),p="".concat(f,"-cols"),v=[];return u.forEach((function(e){var t,r=h[e];delete h[e],t=null!=r&&"object"===typeof r?r.cols:r;var n="xs"!==e?"-".concat(e):"";null!=t&&v.push("".concat(p).concat(n,"-").concat(t))})),(0,c.jsx)(m,(0,n.Z)((0,n.Z)({ref:t},h),{},{className:i().apply(void 0,[a,f].concat(v))}))}));m.displayName="Row",t.Z=m},4610:function(e,t,r){var n=r(7669),o=r(8560),a=o;a.v1=n,a.v4=o,e.exports=a},1874:function(e){for(var t=[],r=0;r<256;++r)t[r]=(r+256).toString(16).substr(1);e.exports=function(e,r){var n=r||0,o=t;return[o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],"-",o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]],o[e[n++]]].join("")}},7180:function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var r=new Uint8Array(16);e.exports=function(){return t(r),r}}else{var n=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n}}},7669:function(e,t,r){var n,o,a=r(7180),i=r(1874),s=0,l=0;e.exports=function(e,t,r){var c=t&&r||0,d=t||[],u=(e=e||{}).node||n,m=void 0!==e.clockseq?e.clockseq:o;if(null==u||null==m){var h=a();null==u&&(u=n=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==m&&(m=o=16383&(h[6]<<8|h[7]))}var f=void 0!==e.msecs?e.msecs:(new Date).getTime(),p=void 0!==e.nsecs?e.nsecs:l+1,v=f-s+(p-l)/1e4;if(v<0&&void 0===e.clockseq&&(m=m+1&16383),(v<0||f>s)&&void 0===e.nsecs&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=f,l=p,o=m;var x=(1e4*(268435455&(f+=122192928e5))+p)%4294967296;d[c++]=x>>>24&255,d[c++]=x>>>16&255,d[c++]=x>>>8&255,d[c++]=255&x;var y=f/4294967296*1e4&268435455;d[c++]=y>>>8&255,d[c++]=255&y,d[c++]=y>>>24&15|16,d[c++]=y>>>16&255,d[c++]=m>>>8|128,d[c++]=255&m;for(var j=0;j<6;++j)d[c+j]=u[j];return t||i(d)}},8560:function(e,t,r){var n=r(7180),o=r(1874);e.exports=function(e,t,r){var a=t&&r||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||n)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var s=0;s<16;++s)t[a+s]=i[s];return t||o(i)}},7326:function(e,t,r){"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,{Z:function(){return n}})},3144:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}r.d(t,{Z:function(){return o}})}}]);
//# sourceMappingURL=728.4917ee29.chunk.js.map