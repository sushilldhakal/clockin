"use strict";(self.webpackChunkselfie=self.webpackChunkselfie||[]).push([[303],{4303:function(e,s,a){a.r(s),a.d(s,{default:function(){return b}});var t=a(4942),n=a(5671),r=a(3144),o=a(136),i=a(8557),l=a(2791),c=a(2132),u=a(7043),d=a(4724),h=a(2062),m=a.n(h),p=a(2594),x=a(6183),f=a(184),j=a(4569),g=a(204),v=g.genSaltSync(10),b=function(e){(0,o.Z)(a,e);var s=(0,i.Z)(a);function a(e){var r;return(0,n.Z)(this,a),(r=s.call(this,e)).onChange=function(e){return r.setState((0,t.Z)({},e.target.name,e.target.value))},r.login=function(e){g.hashSync(r.state.password,v);r.setState({value:"loading"}),j.post(u.UW+"auth/admin/login",{username:r.state.username,password:r.state.password}).then((function(e){r.setState({value:"success"}),localStorage.setItem("token",e.data.token),localStorage.setItem("user_id",r.state.username),Boolean(e.data.location)&&localStorage.setItem("location",e.data.location),setTimeout((function(){window.location.href="/dashboard"}),1e3)})).catch((function(e){e.response&&e.response.data&&e.response.data.message&&(r.setState({value:"error"}),m()({text:e.response.data.message,icon:"error",type:"error"}))}))},r.state={username:"",password:"",submit:null,value:"idle"},r}return(0,r.Z)(a,[{key:"render",value:function(){var e=this;return(0,f.jsxs)("div",{children:[(0,f.jsx)(d.Z,{}),(0,f.jsx)("div",{className:"auth-wrapper",children:(0,f.jsxs)("div",{className:"auth-content",children:[(0,f.jsxs)("div",{className:"auth-bg",children:[(0,f.jsx)("span",{className:"r"}),(0,f.jsx)("span",{className:"r s"}),(0,f.jsx)("span",{className:"r s"}),(0,f.jsx)("span",{className:"r"})]}),(0,f.jsx)("form",{onSubmit:this.login.bind(this),children:(0,f.jsx)(c.Z,{className:"borderless text-center",children:(0,f.jsxs)(c.Z.Body,{children:[(0,f.jsx)("div",{className:"mb-4",children:(0,f.jsx)("i",{className:"feather icon-unlock auth-icon"})}),(0,f.jsx)("h3",{className:"mb-4",children:"Login"}),(0,f.jsx)(x.Z,{id:"standard-basic",type:"text",autoComplete:"off",name:"username",value:this.state.username,onChange:function(s){return e.setState({username:s.target.value})},placeholder:"User Name",required:!0}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)(x.Z,{id:"standard-basic1",type:"password",autoComplete:"off",name:"password",value:this.state.password,onChange:function(s){return e.setState({password:s.target.value})},placeholder:"Password",required:!0}),(0,f.jsx)("br",{}),(0,f.jsx)("br",{}),(0,f.jsx)(p.Z,{buttonState:this.state.value,onClick:this.login.bind(this),idleText:"Login"})]})})})]})})]})}}]),a}(l.Component)}}]);
//# sourceMappingURL=303.bc7bb664.chunk.js.map